name: Universal Model Fine-tuning
description: Fine-tunes a model using HuggingFace or PyTorch code.
inputs:
  - { name: task_type,      type: String,  description: Task type }
  - { name: dataset_name,   type: String,  description: Dataset name or path }
  - { name: model_uri,      type: String,  description: Model hub ID or path }
  - { name: framework,      type: String,  description: 'huggingface' or 'pytorch' }
  - { name: output_dir,     type: String,  description: Output dir }
  - { name: epochs,         type: Integer, description: Number of epochs, default: 1 }
outputs:
  - { name: trained_model,  type: Directory, description: Fine-tuned model }
  - { name: training_logs,  type: Directory, description: Logs and status }
implementation:
  container:
    image: python:3.9
    command: ["python", "train.py"]
    args:
      - --task_type
      - { inputValue: task_type }
      - --dataset_name
      - { inputValue: dataset_name }
      - --model_uri
      - { inputValue: model_uri }
      - --framework
      - { inputValue: framework }
      - --output_dir
      - { inputValue: output_dir }
      - --trained_model
      - { outputPath: trained_model }
      - --training_logs
      - { outputPath: training_logs }
      - --epochs
      - { inputValue: epochs }
